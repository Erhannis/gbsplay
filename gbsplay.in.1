.\" This manpage 2003-2005,2008,2016 (C) by Christian Garbs <mitch@cgarbs.de>
.\" Licensed under GNU GPL.
.TH "gbsplay" "1" "%%%VERSION%%%" "Tobias Diedrich" "Gameboy sound player"
.SH "NAME"
.LP
\fBgbsplay\fR \- Gameboy sound player
.SH "SYNOPSIS"
\fBgbsplay\fR [\fIoptions\fR] \fIgbs\-file\fR [\fIstart\-subsong\fR [\fIstop\-subsong\fR] ]
.SH "DESCRIPTION"
gbsplay emulates the sound hardware of the Nintendo Gameboy.  It
is able to play the sounds from a Gameboy module dump (.GBS format)
over /dev/dsp.
.SH "OPTIONS"
.TP
\fI\-E endian\fR
Set endian to \fIendian\fR.  Valid values are \fIb\fR, \fIl\fR and \fIn\fR for big, little and native endian respectively.
.TP
\fI\-f fadeout\-time\fR
Set fadeout time to \fIsubsong\-gap\fR seconds.  Instead of cutting of the subsong hard, do a soft fadeout.  Default value is 3 seconds.
.TP
\fI\-g subsong\-gap\fR
Set subsong gap to \fIsubsong\-gap\fR seconds.  Before playing the next subsong after the subsong timeout, play \fIsubsong\-gap\fR seconds of silence.  Default value is 2 seconds.
.TP
\fI\-h\fR
Display short help and exit.
.TP
\fI\-H filter\fR
Set output high-pass type to \fIfilter\fR.  Valid values are \fIdmg\fR (Gameboy Classic), \fIcgb\fR (Gameboy Color) and \fIoff\fR (no filter).  Default value is dmg.
.TP
\fI\-l\fR
Enable loop mode.  When the last subsong is played, playback starts again with the first subsong.  Default is no loop.
.TP
\fI\-o plugin\fR
Select sound output plugin \fIplugin\fR.  Default depends on compilation options.  Select \fIlist\fR to view a list of all available output plugins.
.TP
\fI\-q\fR
Be quieter, reduce verbosity.  Can be applied multiple times.  Default verbosity is 3.
.TP
\fI\-r samplerate\fR
Set the samplerate to \fIsamplerate\fR Hz.  Default value is 44100Hz.
.TP
\fI\-R refresh\-delay\fR
Set the refresh delay to \fIrefresh\-delay\fR milliseconds.  Default value is 33 milliseconds.  Larger values will lower CPU usage, but things as subsong changes, fadeouts, reactions to keypresses and the on\-screen display will be delayed.
.TP
\fI\-t subsong\-timeout\fR
Set subsong timeout to \fIsubsong\-timeout\fR seconds.  When a subsong has been played for the given time, the player will skip to the next subsong.  A timeout of 0 seconds disables automatic subsong changes.  Default value is 120 seconds.
.TP
\fI\-T silence\-timeout\fR
Set silence timeout to \fIsilence\-timeout\fR seconds.  When a subsong contains silence for the given time, the player will skip to the next subsong.  Default value is 2 seconds.
.TP
\fI\-v\fR
Increase verbosity, print more information.  Can be applied multiple times.  Default verbosity is 3.
.TP
\fI\-V\fR
Display version number and exit.
.TP
\fI\-z\fR
Play subsongs in shuffle mode.  Every subsong will be played once in random order.
.TP
\fI\-Z\fR
Play subsongs in random mode.  Like shuffle mode, but a subsong can be played multiple times.
.TP
\fI\-1\fR
Mute channel 1 on start.
.TP
\fI\-2\fR
Mute channel 2 on start.
.TP
\fI\-3\fR
Mute channel 3 on start.
.TP
\fI\-4\fR
Mute channel 4 on start.
.SH "PARAMETERS"
.TP
\fIgbs\-file\fR
The sound file to play.  Must be in uncompressed .GBS format.
.TP
\fIstart\-subsong\fR
The subsong from the sound file to play.  If not specified, the default song will be played (unless in shuffle or random mode).  An out\-of\-bounds number will be clipped to the possible range of subsongs.
.TP
\fIstop\-subsong\fR
gbsplay stops when this subsong has been played.  If not specified or out-of-bound, gbsplay will stop after playing the last subsong.
.SH "KEYBOARD CONTROL"
\fBgbsplay\fR supports basic keyboard control.  The following commands are recognized:
.TP
\fIp\fR
Skip to the previous subsong.
.TP
\fIn\fR
Skip to the next subsong.
.TP
\fIq\fR or \fIEsc\fR
Quit gbsplay.
.TP
\fISpace\fR
Toggle play/pause.
.TP
\fI1\fR
Mute/unmute channel 1.
.TP
\fI2\fR
Mute/unmute channel 2.
.TP
\fI3\fR
Mute/unmute channel 3.
.TP
\fI4\fR
Mute/unmute channel 4.
.SH "OUTPUT PLUGINS"
Output plugins are sometimes called \fIplugouts\fR because that's shorter, so don't be confused.  Not all of the plugins listed here may be available, see `\fIgbsplay -o list\fR'.
.TP
\fIalsa\fR
Use the ALSA sound driver for sound output.
.TP
\fIdevdsp\fR
Use the OSS sound driver for sound output via \fI/dev/dsp\fR.
.TP
\fIdsound\fR
Use the DirectSound sound driver for sound output on Microsoft Windows.
.TP
\fIiodumper\fR
Dump IO calls to the Gameboy sound hardware to stdout.  This reduces the verbosity to 0 (see \fI-q\fR) because stdout is used for the dumped data.
.TP
\fImidi\fR
Write a simple MIDI conversion of the song into a seperate file per subsong.  The files are called \fIgbsplay-%d.mid\fR, where \fI%d\fR is replaced with the number of the subsong.  The files are created in the current working directory and existing files are silently overwritten.
Only channels 1 to 3 are converted to MIDI, track 4 contains noise data which can't be converted into notes.
Every GBS channel is exported to a seperate MIDI channel.  When multiple voices share a channel, they will not be separated in the output.
The conversion is rather basic and more complicated GBS files using tricks and hacks will not be converted properly.
.TP
\fInas\fR
Use the NAS sound driver for sound output to a Network Audio Server.
.TP
\fIpulse\fR
Use the Pulseaudio sound driver for sound output.
.TP
\fIstdout\fR
Dump the raw audio stream to stdout.  This reduces the verbosity to 0 (see \fI-q\fR) because stdout is used for the dumped data.
The raw audio is always stereo (2 channels), 16 bit signed PCM.  Sample rate and endianess can be set via \fI-E\fR and \fI-r\fR.
.SH "FILES"
.TP
\fI/etc/gbsplayrc\fR
Default location of the global configuration file.
.TP
\fI~/\.gbsplayrc\fR
User configuration file.
.SH "SEE ALSO"
\fIgbsinfo\fR(1),
\fIgbsplayrc\fR(5)
.SH "BUG REPORTS"
If you encounter bugs, please report them via \fIhttps://github.com/mmitch/gbsplay/issues\fR or write to <\fIgbsplay-dev@lists.uguu.de\fR>.
.SH "AUTHOR"
gbsplay was written by Tobias Diedrich <\fIranma+gbsplay@tdiedrich.de\fR> (with contributions from others, see README).
.SH "COPYRIGHT"
gbsplay is licensed under GNU GPL.
